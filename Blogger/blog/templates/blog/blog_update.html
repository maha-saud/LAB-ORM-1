{% extends 'main/base.html' %}

{% block title %}Update {{ post.title }}{% endblock %}

{% block content %}
<h1>Update {{ post.title }}</h1>

<div class="row">

  <div class="col-6">

    <form class="d-flex flex-column gap-2"
          action="{% url 'blog:blog_update_view' post.id %}"
          method="post"
          enctype="multipart/form-data">
      {% csrf_token %}

      <input type="text"
             placeholder="Title"
             name="title"
             class="form-control"
             value="{{ post.title }}" />

      <textarea placeholder="Content"
                name="content"
                class="form-control">{{ post.content }}</textarea>

      <div class="form-check">
        <input class="form-check-input"
               type="checkbox"
               name="is_published"
               id="is_published"
               {% if post.is_published %}checked{% endif %}>
        <label class="form-check-label" for="is_published">Published</label>
      </div>

      <div class="row">
        <div class="col-3">
          {% if post.poster %}
            <img src="{{ post.poster.url }}" class="w-100 rounded-3" />
          {% else %}
            <img src="/media/images/default.jpg" class="w-100 rounded-3" />
          {% endif %}
        </div>
        <div class="col">
          <input type="file" name="poster" class="form-control" accept="image/*" />
        </div>
      </div>

      <input type="submit" value="Update Post" class="btn btn-primary" />

    </form>

  </div>

</div>

{% endblock %}
