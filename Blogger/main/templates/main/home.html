{% extends 'main/base.html' %}

{% block title %}Home | Blogger{% endblock %}

{% block content %}

<section class="page-header">
  <h2>Latest posts</h2>
  <p class="page-subtitle">A small space for your notes and thoughts.</p>
</section>

{% if posts %}
<div class="row row-cols-1 row-cols-md-3 g-4">

  {% for post in posts %}
  <div class="col">

    <div class="card h-100 shadow-sm border-0">

    {% if post.poster %}
  <img src="{{ post.poster.url }}" class="card-img-top" alt="{{ post.title }}">
{% else %}
  <img src="/media/images/default.jpg" class="card-img-top" alt="{{ post.title }}">
{% endif %}


      <div class="card-body">
        <h5 class="card-title mb-1">{{ post.title }}</h5>
        <p class="text-muted mb-2" style="font-size: 0.85rem;">
          {{ post.published_at|date:"Y-m-d" }} Â· {{ post.published_at|time:"H:i" }}
        </p>
        <p class="card-text">
          {{ post.content|truncatechars:100 }}
        </p>
        <a href="{% url 'blog:blog_detail_view' post.id %}" class="btn btn-primary btn-sm">
          Read more
        </a>
      </div>

    </div>

  </div>
  {% endfor %}

</div>
{% else %}
<p class="empty-message">
  No posts yet. You can start by adding your first one ðŸ’Œ
</p>
{% endif %}

{% endblock %}